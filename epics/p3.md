# 引力编织者：星际航线 (Gravity Weaver: The Final Trajectory)
## 混合式互动教学剧本 (Hybrid Interactive Script)

**设计目标**：在《星际穿越》式的硬核科幻叙事中，自然地插入“教科书式”的教学环节（思考、问答、笔记），让玩家在沉浸于剧情的同时，必须停下来进行理性思考，从而强化学习效果。

---

## 核心机制：双层世界 (The Dual Layer)

1. **表层（叙事层）**：3D 星际场景。老船长（Merchant）驾驶飞船遇到危机，小鹿（AI）提供环境数据。
2. **里层（思维层/教学层）**：**"思维殿堂" (The Mind Palace)**。当危机发生时，时间暂停，画面进入蓝图/黑板风格的“心流模式”。
    - 在这里，小鹿变身为严谨的**数学导师**。
    - 玩家需要回答“小思考”、“小测验”，或者补充“航行日志（笔记）”。
    - **只有在思维层解开了数学原理，表层的飞船才能启动引擎。**

---

## 剧本大纲与流程

### 第一章：视界边缘 (The Event Horizon) - 二次函数的引入
**知识点**：$y=ax^2$ 的定义与开口方向

**[叙事层]**
> **场景**：飞船警报大作。巨大的黑洞吸积盘占据了半个屏幕。引力正在撕扯船体。
> **老船长**：“引擎出力不够！直线逃逸方案失败！我们正在坠落！”
> **小鹿**：“警告：线性轨迹 ($y=kx+b$) 无法对抗奇点引力。建议切换至高阶动力学模式。”
> **(时间暂停，画面黑白化，浮现出网格线)**

**[思维层：思维殿堂]**
> **小鹿（导师模式）**：“学员，冷静。观察目前的引力场。直线不仅无法逃逸，还会让我们直接撞向奇点。”
> **小思考 (Think)**：
> “要避开中心的奇点，我们需要一种能‘弯曲’的轨道。你认为哪种数学力量可以让线条弯曲？”
> - A. 乘以常数 (Scaling)
> - B. 自变量的平方 (Squaring) `[正确]`
> - C. 加上截距 (Offset)
>
> **小鹿解析**：“正确。$x^2$ 是弯曲的源头。这就是**二次函数**的力量。看，加上 $ax^2$ 后，直线变成了抛物线。”
> **互动**：玩家在“黑板”上拖动 $a$ 值，看到直线瞬间变成抛物线，像盾牌一样挡住了奇点。
> **小测验 (Quiz)**：
> “为了让飞船‘向上’远离黑洞（开口向上），系数 $a$ 必须是？”
> - A. 正数 ($a > 0$) `[正确]`
> - B. 负数 ($a < 0$)

**[叙事层]**
> **(回归彩色，实操开始)**
> **小鹿**：“理论模型构建完毕。调律师，注入正能量 $a$！”
> **(玩家操作滑块，飞船沿着抛物线轨道被甩出黑洞边缘)**

---

### 第二章：星尘封锁 (The Asteroid Field) - 垂直平移
**知识点**：$y=ax^2+k$ (常数项 $k$ 的几何意义)

**[叙事层]**
> **场景**：飞船刚刚逃离黑洞，前方是一片密集的静态小行星带，正好挡在轨道上（$y=0$ 轴）。
> **老船长**：“前狼后虎！轨道计算显示我们会直接撞上这片碎石带！能不能绕过去？”
> **小鹿**：“左右由于引力锁定无法移动。唯一的出路是……上方。”
> **(时间暂停，进入蓝图模式)**

**[思维层：思维殿堂]**
> **小鹿（导师模式）**：“观察模型。我们的抛物线形状完美 ($a$ 已锁定)，但位置太低了。”
> **小笔记 (Note)**：
> *“在函数末尾加上一个常数 $k$，就像给函数装上了电梯。”*
> **小思考 (Think)**：
> “如果我们想把整个轨道向上抬升 300 个单位，表达式应该变成什么？”
> - $y = ax^2$
> - $y = ax^2 + 300$ `[正确]`
> - $y = ax^2 - 300$
>
> **小鹿解析**：“这就是**垂直平移**。$k > 0$ 向上，$k < 0$ 向下。简单，高效，就像电梯一样。”

**[叙事层]**
> **(回归实操)**
> **小鹿**：“垂直推进器就绪。调律师，设置 $k$ 值，让飞船‘跳’过这片区域！”
> **(玩家推大 $k$ 值，飞船画出一道高高的弧线，越过小行星带)**

---

### 第三章：双星镜像 (The Binary Mirror) - 水平平移
**知识点**：$y=a(x-h)^2$ (左加右减的难点)

**[叙事层]**
> **场景**：飞船进入了双星系统的引力范围。空间发生了诡异的扭曲。所有的仪表盘都在乱跳。
> **老船长**：“见鬼！我想往右边舵，但飞船拼命往左边偏！导航系统中毒了吗？”
> **小鹿**：“不是中毒。我们进入了相对论效应区域——‘镜像空间’。这里的操作逻辑是反直觉的。”
> **(时间暂停，进入蓝图模式)**

**[思维层：思维殿堂]**
> **小鹿（导师模式）**：“这是一个难点。学员，请集中注意力。”
> **核心概念展示**：屏幕上显示 $x$ 和 $(x-h)$ 的对比动画。
> **小问答 (Q&A)**：
> “我们要让飞船向**右**移动（$h > 0$）。但是在公式内部，为了抵消 $h$，我们需要在 $x$ 上减去还是加上 $h$？”
> *(小鹿会演示：当 $x=h$ 时，$(x-h)=0$，以此说明顶点到了 $h$ 处)*
>
> **小鹿总结（敲黑板）**：“记住口诀：**左加右减**。括号里的世界是反的。相信数学，不要相信直觉。”

**[叙事层]**
> **(回归实操)**
> **小鹿**：“修正偏航。我们需要向右侧（安全区）移动。调律师，你该怎么设置公式里的符号？”
> **(玩家需要克服直觉，增加 $h$ 值（对应公式中的减号逻辑），将轨道移入正确的引力弹弓路径)**

---

### 终章：虫洞架构 (The Wormhole Architect) - 顶点式综合
**知识点**：$y=a(x-h)^2+k$ 顶点坐标

**[叙事层]**
> **场景**：终点就在眼前。一个不稳定的微型虫洞在闪烁。
> **老船长**：“它太不稳定了！我们需要一个极高精度的轨道才能穿过去，差一毫米我们就会被挤成原子。”
> **小鹿**：“我们需要构建一个‘顶点式’探针。$a$ 控制开口，$h$ 控制水平，$k$ 控制垂直。三位一体。”
> **(系统加载最终蓝图)**

**[思维层：思维殿堂]**
> **小鹿（导师模式）**：“这是最后的考核。虫洞的中心坐标是 $(h, k)$。”
> **综合挑战**：
> 1. 确定形状 $a$。
> 2. 定位顶点 $(h, k)$。
> 3. 写出最终的方程。

**[叙事层]**
> **(玩家完成最终操作)**
> **小鹿**：“参数锁定。轨道同步率 100%。推进器全开！”
> **(飞船化作一道流光，完美穿过虫洞)**
> **结局**：星图重绘完成。地球收到了来自未来的坐标。

---

## 交互设计亮点

1. **"暂停教学" (Freeze-Frame Teaching)**
    - 模仿课堂上的“现在大家停一下，看黑板”。在紧张的剧情中突然暂停，进入静谧的思维空间，强制让玩家从“操作者”转变为“思考者”。
2. **"笔记收集" (The Logbook)**
    - 玩家在思维层做出的正确选择（如“左加右减”），会自动记录到游戏内的“航行日志”中。通关后，这本日志就是一份完美的复习笔记。
3. **“错误具象化”**
    - 如果玩家在思维层选错（例如认为向上平移是减k），回到叙事层时，飞船会直接向下坠落演示错误后果（然后立即倒带重来），让“试错”变得有剧情冲击力。
